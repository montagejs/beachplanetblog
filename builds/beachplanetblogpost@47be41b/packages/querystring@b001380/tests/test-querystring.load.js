montageDefine("b001380","tests/test-querystring",{dependencies:["../querystring","test"],factory:function(e,t){"use strict";var n=e("../querystring"),i=[["foo=918854443121279438895193","foo=918854443121279438895193",{foo:"918854443121279438895193"}],["foo=bar","foo=bar",{foo:"bar"}],["foo=bar&foo=quux","foo=bar&foo=quux",{foo:["bar","quux"]}],["foo=1&bar=2","foo=1&bar=2",{foo:"1",bar:"2"}],["foo%3Dbaz=bar","foo%3Dbaz=bar",{"foo=baz":"bar"}],["foo=baz=bar","foo=baz%3Dbar",{foo:"baz=bar"}],["str=foo&arr=1&arr=2&arr=3&somenull=&undef=","str=foo&arr=1&arr=2&arr=3&somenull=&undef=",{str:"foo",arr:["1","2","3"],somenull:"",undef:""}],[" foo = bar ","%20foo%20=%20bar%20",{" foo ":" bar "}],["foo=%EF%BF%BD","foo=%EF%BF%BD",{foo:"ï¿½"}]],r=[["foo:bar","foo:bar",{foo:"bar"}],["foo:bar;foo:quux","foo:bar;foo:quux",{foo:["bar","quux"]}],["foo:1&bar:2;baz:quux","foo:1%26bar%3A2;baz:quux",{foo:"1&bar:2",baz:"quux"}],["foo%3Abaz:bar","foo%3Abaz:bar",{"foo:baz":"bar"}],["foo:baz:bar","foo:baz%3Abar",{foo:"baz:bar"}]],a=function(){};a.prototype={a:"b"};var s=[[{regexp:/./g},"regexp=",{regexp:""}],[{regexp:RegExp(".","g")},"regexp=",{regexp:""}],[{fn:function(){}},"fn=",{fn:""}],[{fn:Function("")},"fn=",{fn:""}],[{math:Math},"math=",{math:""}],[{e:a},"e=",{e:""}],[{d:new Date},"d=",{d:""}],[{d:Date},"d=",{d:""}],[{f:new Boolean(!1),t:new Boolean(!0)},"f=&t=",{f:"",t:""}],[{f:!1,t:!0},"f=false&t=true",{f:"false",t:"true"}],[{n:null},"n=",{n:""}],[{nan:0/0},"nan=",{nan:""}],[{inf:1/0},"inf=",{inf:""}]],o=[["",{}],["foo=bar&foo=baz",{foo:["bar","baz"]}],["blah=burp",{blah:"burp"}],["gragh=1&gragh=3&goo=2",{gragh:["1","3"],goo:"2"}],["frappucino=muffin&goat%5B%5D=scone&pond=moose",{frappucino:"muffin","goat[]":"scone",pond:"moose"}],["trololol=yes&lololo=no",{trololol:"yes",lololo:"no"}]];t["test basic"]=function(e){e.strictEqual("918854443121279438895193",n.parse("id=918854443121279438895193").id,"prase id=918854443121279438895193")},t["test that the canonical qs is parsed properly"]=function(e){i.forEach(function(t){e.deepEqual(t[2],n.parse(t[0]),"parse "+t[0])})},t["test that the colon test cases can do the same"]=function(e){r.forEach(function(t){e.deepEqual(t[2],n.parse(t[0],";",":"),"parse "+t[0]+" -> ; :")})},t["test the weird objects, that they get parsed properly"]=function(e){s.forEach(function(t){e.deepEqual(t[2],n.parse(t[1]),"parse "+t[1])})},t["test non munge test cases"]=function(e){o.forEach(function(t){e.deepEqual(t[0],n.stringify(t[1],"&","=",!1),"stringify "+JSON.stringify(t[1])+" -> & =")})},t["test the nested qs-in-qs case"]=function(e){var t=n.parse("a=b&q=x%3Dy%26y%3Dz");t.q=n.parse(t.q),e.deepEqual(t,{a:"b",q:{x:"y",y:"z"}},"parse a=b&q=x%3Dy%26y%3Dz")},t["test nested in colon"]=function(e){var t=n.parse("a:b;q:x%3Ay%3By%3Az",";",":");t.q=n.parse(t.q,";",":"),e.deepEqual(t,{a:"b",q:{x:"y",y:"z"}},"parse a:b;q:x%3Ay%3By%3Az -> ; :")},t["test stringifying"]=function(e){i.forEach(function(t){e.equal(t[1],n.stringify(t[2]),"stringify "+JSON.stringify(t[2]))}),r.forEach(function(t){e.equal(t[1],n.stringify(t[2],";",":"),"stringify "+JSON.stringify(t[2])+" -> ; :")}),s.forEach(function(t){e.equal(t[1],n.stringify(t[0]),"stringify "+JSON.stringify(t[0]))})},t["test stringifying nested"]=function(e){var t=n.stringify({a:"b",q:n.stringify({x:"y",y:"z"})});e.equal(t,"a=b&q=x%3Dy%26y%3Dz",JSON.stringify({a:"b","qs.stringify -> q":{x:"y",y:"z"}}));var i=!1;try{n.parse(void 0)}catch(r){i=!0}e.ok(!i,"does not throws on undefined")},t["test nested in colon"]=function(e){var t=n.stringify({a:"b",q:n.stringify({x:"y",y:"z"},";",":")},";",":");e.equal(t,"a:b;q:x%3Ay%3By%3Az","stringify "+JSON.stringify({a:"b","qs.stringify -> q":{x:"y",y:"z"}})+" -> ; : "),e.deepEqual({},n.parse(),"parse undefined")},e("test").run(t)}});