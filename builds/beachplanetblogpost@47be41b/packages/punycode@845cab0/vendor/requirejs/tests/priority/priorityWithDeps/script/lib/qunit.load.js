montageDefine("845cab0","vendor/requirejs/tests/priority/priorityWithDeps/script/lib/qunit",{dependencies:[],factory:function(e,i){(function(t){function s(){if(b.doneTimer&&t.clearTimeout&&(t.clearTimeout(b.doneTimer),b.doneTimer=null),b.queue.length)return b.doneTimer=t.setTimeout(function(){b.queue.length?r(s):s()},13),void 0;b.autorun=!0,b.currentModule&&f.moduleDone(b.currentModule,b.moduleStats.bad,b.moduleStats.all);var e=g("qunit-banner"),i=g("qunit-tests"),a=["Tests completed in ",+new Date-b.started," milliseconds.<br/>",'<span class="passed">',b.stats.all-b.stats.bad,'</span> tests of <span class="total">',b.stats.all,'</span> passed, <span class="failed">',b.stats.bad,"</span> failed."].join("");if(e&&(e.className=b.stats.bad?"qunit-fail":"qunit-pass"),i){var u=g("qunit-testresult");u||(u=document.createElement("p"),u.id="qunit-testresult",u.className="result",i.parentNode.insertBefore(u,i.nextSibling)),u.innerHTML=a}f.done(b.stats.bad,b.stats.all)}function a(e){var i=b.filters.length,t=!1;if(!i)return!0;for(;i--;){var s=b.filters[i],a="!"==s.charAt(0);if(a&&(s=s.slice(1)),-1!==e.indexOf(s))return!a;a&&(t=!0)}return t}function u(e){return e=null===e?"":e+"",e.replace(/[\&"<>\\]/g,function(e){switch(e){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'"';case"<":return"&lt;";case">":return"&gt;";default:return e}})}function n(e,i,t,s){s=u(s)||(e?"okay":"failed"),s='<span class="test-message">'+s+"</span>",t=u(f.jsDump.parse(t)),i=u(f.jsDump.parse(i));var a=s+', expected: <span class="test-expected">'+t+"</span>";i!=t&&(a+=' result: <span class="test-actual">'+i+"</span>, diff: "+f.diff(t,i)),f.log(e,a),b.assertions.push({result:!!e,message:a})}function r(e){b.queue.push(e),b.autorun&&!b.blocking&&l()}function l(){for(var e=(new Date).getTime();b.queue.length&&!b.blocking;){if(!(0>=b.updateRate||(new Date).getTime()-e<b.updateRate)){setTimeout(l,13);break}b.queue.shift()()}}function o(){if(b.pollution=[],b.noglobals)for(var e in t)b.pollution.push(e)}function c(){var e=b.pollution;o();var i=m(e,b.pollution);i.length>0&&(ok(!1,"Introduced global variable(s): "+i.join(", ")),b.expected++);var t=m(b.pollution,e);t.length>0&&(ok(!1,"Deleted global variable(s): "+t.join(", ")),b.expected++)}function m(e,i){for(var t=e.slice(),s=0;t.length>s;s++)for(var a=0;i.length>a;a++)if(t[s]===i[a]){t.splice(s,1),s--;break}return t}function d(e,i,s){"undefined"!=typeof console&&console.error&&console.warn?(console.error(e),console.error(i),console.warn(""+s)):t.opera&&opera.postError&&opera.postError(e,i,s.toString)}function p(e,i){for(var t in i)e[t]=i[t];return e}function v(e,i,t){e.addEventListener?e.addEventListener(i,t,!1):e.attachEvent?e.attachEvent("on"+i,t):t()}function g(e){return!("undefined"==typeof document||!document||!document.getElementById)&&document.getElementById(e)}function h(e){for(var i,t="",s=0;e[s];s++)i=e[s],3===i.nodeType||4===i.nodeType?t+=i.nodeValue:8!==i.nodeType&&(t+=h(i.childNodes));return t}var f={module:function(e,i){b.currentModule=e,r(function(){b.currentModule&&f.moduleDone(b.currentModule,b.moduleStats.bad,b.moduleStats.all),b.currentModule=e,b.moduleTestEnvironment=i,b.moduleStats={all:0,bad:0},f.moduleStart(e,i)})},asyncTest:function(e,i,t){2===arguments.length&&(t=i,i=0),f.test(e,i,t,!0)},test:function(e,i,u,n){var l,m,q='<span class="test-name">'+e+"</span>";2===arguments.length&&(u=i,i=null),i&&"object"==typeof i&&(m=i,i=null),b.currentModule&&(q='<span class="module-name">'+b.currentModule+"</span>: "+q),a(b.currentModule+": "+e)&&(r(function(){l=p({setup:function(){},teardown:function(){}},b.moduleTestEnvironment),m&&p(l,m),f.testStart(e,l),f.current_testEnvironment=l,b.assertions=[],b.expected=i;var t=g("qunit-tests");if(t){var s=document.createElement("strong");s.innerHTML="Running "+q;var a=document.createElement("li");a.appendChild(s),a.id="current-test-output",t.appendChild(a)}try{b.pollution||o(),l.setup.call(l)}catch(u){f.ok(!1,"Setup failed on "+q+": "+u.message)}}),r(function(){n&&f.stop();try{u.call(l)}catch(e){d("Test "+q+" died, exception and test follows",e,u),f.ok(!1,"Died on test #"+(b.assertions.length+1)+": "+e.message),o(),b.blocking&&start()}}),r(function(){try{c(),l.teardown.call(l)}catch(e){f.ok(!1,"Teardown failed on "+q+": "+e.message)}}),r(function(){try{f.reset()}catch(i){d("reset() failed, following Test "+q+", exception and reset fn follows",i,reset)}b.expected&&b.expected!=b.assertions.length&&f.ok(!1,"Expected "+b.expected+" assertions, but "+b.assertions.length+" were run");var a=0,u=0,n=g("qunit-tests");if(b.stats.all+=b.assertions.length,b.moduleStats.all+=b.assertions.length,n){for(var r=document.createElement("ol"),l=0;b.assertions.length>l;l++){var o=b.assertions[l],c=document.createElement("li");c.className=o.result?"pass":"fail",c.innerHTML=o.message||"(no message)",r.appendChild(c),o.result?a++:(u++,b.stats.bad++,b.moduleStats.bad++)}0==u&&(r.style.display="none");var m=document.createElement("strong");m.innerHTML=q+" <b style='color:black;'>(<b class='fail'>"+u+"</b>, <b class='pass'>"+a+"</b>, "+b.assertions.length+")</b>",v(m,"click",function(){var e=m.nextSibling,i=e.style.display;e.style.display="none"===i?"block":"none"}),v(m,"dblclick",function(e){var i=e&&e.target?e.target:t.event.srcElement;("span"==i.nodeName.toLowerCase()||"b"==i.nodeName.toLowerCase())&&(i=i.parentNode),t.location&&"strong"===i.nodeName.toLowerCase()&&(t.location.search="?"+encodeURIComponent(h([i]).replace(/\(.+\)$/,"").replace(/(^\s*|\s*$)/g,"")))});var c=g("current-test-output");if(c.id="",c.className=u?"fail":"pass",c.removeChild(c.firstChild),c.appendChild(m),c.appendChild(r),u){var p=g("qunit-testrunner-toolbar");p&&(p.style.display="block",g("qunit-filter-pass").disabled=null,g("qunit-filter-missing").disabled=null)}}else for(var l=0;b.assertions.length>l;l++)b.assertions[l].result||(u++,b.stats.bad++,b.moduleStats.bad++);f.testDone(e,u,b.assertions.length),t.setTimeout||b.queue.length||s()}),t.setTimeout&&!b.doneTimer&&(b.doneTimer=t.setTimeout(function(){b.queue.length?r(s):s()},13)))},expect:function(e){b.expected=e},ok:function(e,i){i=u(i),f.log(e,i),b.assertions.push({result:!!e,message:i})},equal:function(e,i,t){n(i==e,e,i,t)},notEqual:function(e,i,t){n(i!=e,e,i,t)},deepEqual:function(e,i,t){n(f.equiv(e,i),e,i,t)},notDeepEqual:function(e,i,t){n(!f.equiv(e,i),e,i,t)},strictEqual:function(e,i,t){n(i===e,e,i,t)},notStrictEqual:function(e,i,t){n(i!==e,e,i,t)},raises:function(e,i){try{e(),ok(!1,i)}catch(t){ok(!0,i)}},start:function(){t.setTimeout?t.setTimeout(function(){b.timeout&&clearTimeout(b.timeout),b.blocking=!1,l()},13):(b.blocking=!1,l())},stop:function(e){b.blocking=!0,e&&t.setTimeout&&(b.timeout=t.setTimeout(function(){f.ok(!1,"Test timed out"),f.start()},e))}};f.equals=f.equal,f.same=f.deepEqual;var b={queue:[],blocking:!0};(function(){for(var e=t.location||{search:"",protocol:"file:"},i=e.search.slice(1).split("&"),s=0;i.length>s;s++)i[s]=decodeURIComponent(i[s]),"noglobals"===i[s]?(i.splice(s,1),s--,b.noglobals=!0):i[s].search("=")>-1&&(i.splice(s,1),s--);b.filters=i,f.isLocal=!("file:"!==e.protocol)})(),i===void 0||e===void 0?(p(t,f),t.QUnit=f):(p(i,f),i.QUnit=f),p(f,{config:b,init:function(){p(b,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new Date,updateRate:1e3,blocking:!1,autostart:!0,autorun:!1,assertions:[],filters:[],queue:[]});var e=g("qunit-tests"),i=g("qunit-banner"),t=g("qunit-testresult");e&&(e.innerHTML=""),i&&(i.className=""),t&&t.parentNode.removeChild(t)},reset:function(){t.jQuery&&jQuery("#main, #qunit-fixture").html(b.fixture)},triggerEvent:function(e,i,t){document.createEvent?(t=document.createEvent("MouseEvents"),t.initMouseEvent(i,!0,!0,e.ownerDocument.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)):e.fireEvent&&e.fireEvent("on"+i)},is:function(e,i){return f.objectType(i)==e},objectType:function(e){if(e===void 0)return"undefined";if(null===e)return"null";var i=Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]||"";switch(i){case"Number":return isNaN(e)?"nan":"number";case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return i.toLowerCase()}return"object"==typeof e?"object":void 0},begin:function(){},done:function(){},log:function(){},testStart:function(){},testDone:function(){},moduleStart:function(){},moduleDone:function(){}}),("undefined"==typeof document||"complete"===document.readyState)&&(b.autorun=!0),v(t,"load",function(){f.begin();var e=p({},b);f.init(),p(b,e),b.blocking=!1;var i=g("qunit-userAgent");i&&(i.innerHTML=navigator.userAgent);var t=g("qunit-testrunner-toolbar");if(t){t.style.display="none";var s=document.createElement("input");s.type="checkbox",s.id="qunit-filter-pass",s.disabled=!0,v(s,"click",function(){for(var e=document.getElementsByTagName("li"),i=0;e.length>i;i++)e[i].className.indexOf("pass")>-1&&(e[i].style.display=s.checked?"none":"")}),t.appendChild(s);var a=document.createElement("label");a.setAttribute("for","qunit-filter-pass"),a.innerHTML="Hide passed tests",t.appendChild(a);var u=document.createElement("input");u.type="checkbox",u.id="qunit-filter-missing",u.disabled=!0,v(u,"click",function(){for(var e=document.getElementsByTagName("li"),i=0;e.length>i;i++)e[i].className.indexOf("fail")>-1&&e[i].innerHTML.indexOf("missing test - untested code is broken code")>-1&&(e[i].parentNode.parentNode.style.display=u.checked?"none":"block")}),t.appendChild(u),a=document.createElement("label"),a.setAttribute("for","qunit-filter-missing"),a.innerHTML="Hide missing tests (untested code is broken code)",t.appendChild(a)}var n=g("main")||g("qunit-fixture");n&&(b.fixture=n.innerHTML),b.autostart&&f.start()}),f.equiv=function(){function e(e,i,t){var s=f.objectType(e);return s?"function"===f.objectType(i[s])?i[s].apply(i,t):i[s]:void 0}var i,t=[],s=[],a=function(){function e(e,i){return e instanceof i.constructor||i instanceof e.constructor?i==e:i===e}return{string:e,"boolean":e,number:e,"null":e,undefined:e,nan:function(e){return isNaN(e)},date:function(e,i){return"date"===f.objectType(e)&&i.valueOf()===e.valueOf()},regexp:function(e,i){return"regexp"===f.objectType(e)&&i.source===e.source&&i.global===e.global&&i.ignoreCase===e.ignoreCase&&i.multiline===e.multiline},"function":function(){var e=t[t.length-1];return e!==Object&&e!==void 0},array:function(e,t){var a,u,n,r;if("array"!==f.objectType(e))return!1;if(r=t.length,r!==e.length)return!1;for(s.push(t),a=0;r>a;a++){for(n=!1,u=0;s.length>u;u++)s[u]===t[a]&&(n=!0);if(!n&&!i(t[a],e[a]))return s.pop(),!1}return s.pop(),!0},object:function(e,a){var u,n,r,l=!0,o=[],c=[];if(a.constructor!==e.constructor)return!1;t.push(a.constructor),s.push(a);for(u in a){for(r=!1,n=0;s.length>n;n++)s[n]===a[u]&&(r=!0);if(o.push(u),!r&&!i(a[u],e[u])){l=!1;break}}t.pop(),s.pop();for(u in e)c.push(u);return l&&i(o.sort(),c.sort())}}}();return i=function(){var i=Array.prototype.slice.apply(arguments);return 2>i.length?!0:function(i,t){return i===t?!0:null===i||null===t||i===void 0||t===void 0||f.objectType(i)!==f.objectType(t)?!1:e(i,a,[t,i])}(i[0],i[1])&&arguments.callee.apply(this,i.splice(1,i.length-1))}}(),f.jsDump=function(){function e(e){return'"'+(""+e).replace(/"/g,'\\"')+'"'}function i(e){return e+""}function t(e,i,t){var s=u.separator(),a=u.indent(),n=u.indent(1);return i.join&&(i=i.join(","+s+n)),i?[e,n+i,a+t].join(s):e+t}function s(e){var i=e.length,s=Array(i);for(this.up();i--;)s[i]=this.parse(e[i]);return this.down(),t("[",s,"]")}var a=/^function (\w+)/,u={parse:function(e,i){var t=this.parsers[i||this.typeOf(e)];return i=typeof t,"function"==i?t.call(this,e):"string"==i?t:this.parsers.error},typeOf:function(e){var i;return i=null===e?"null":e===void 0?"undefined":f.is("RegExp",e)?"regexp":f.is("Date",e)?"date":f.is("Function",e)?"function":e.setInterval&&e.document&&!e.nodeType?"window":9===e.nodeType?"document":e.nodeType?"node":"object"==typeof e&&"number"==typeof e.length&&e.length>=0?"array":typeof e},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(e){if(!this.multiline)return"";var i=this.indentChar;return this.HTML&&(i=i.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")),Array(this._depth_+(e||0)).join(i)},up:function(e){this._depth_+=e||1},down:function(e){this._depth_-=e||1},setParser:function(e,i){this.parsers[e]=i},quote:e,literal:i,join:t,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(e){var i="function",s="name"in e?e.name:(a.exec(e)||[])[1];return s&&(i+=" "+s),i+="(",i=[i,this.parse(e,"functionArgs"),"){"].join(""),t(i,this.parse(e,"functionCode"),"}")},array:s,nodelist:s,arguments:s,object:function(e){var i=[];this.up();for(var s in e)i.push(this.parse(s,"key")+": "+this.parse(e[s]));return this.down(),t("{",i,"}")},node:function(e){var i=this.HTML?"&lt;":"<",t=this.HTML?"&gt;":">",s=e.nodeName.toLowerCase(),a=i+s;for(var u in this.DOMAttrs){var n=e[this.DOMAttrs[u]];n&&(a+=" "+u+"="+this.parse(n,"attribute"))}return a+t+i+"/"+s+t},functionArgs:function(e){var i=e.length;if(!i)return"";for(var t=Array(i);i--;)t[i]=String.fromCharCode(97+i);return" "+t.join(", ")+" "},key:e,functionCode:"[code]",attribute:e,string:e,date:e,regexp:i,number:i,"boolean":i},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"   ",multiline:!1};return u}(),f.diff=function(){function e(e,i){for(var t={},s={},a=0;i.length>a;a++)null==t[i[a]]&&(t[i[a]]={rows:[],o:null}),t[i[a]].rows.push(a);for(var a=0;e.length>a;a++)null==s[e[a]]&&(s[e[a]]={rows:[],n:null}),s[e[a]].rows.push(a);for(var a in t)1==t[a].rows.length&&s[a]!==void 0&&1==s[a].rows.length&&(i[t[a].rows[0]]={text:i[t[a].rows[0]],row:s[a].rows[0]},e[s[a].rows[0]]={text:e[s[a].rows[0]],row:t[a].rows[0]});for(var a=0;i.length-1>a;a++)null!=i[a].text&&null==i[a+1].text&&i[a].row+1<e.length&&null==e[i[a].row+1].text&&i[a+1]==e[i[a].row+1]&&(i[a+1]={text:i[a+1],row:i[a].row+1},e[i[a].row+1]={text:e[i[a].row+1],row:a+1});for(var a=i.length-1;a>0;a--)null!=i[a].text&&null==i[a-1].text&&i[a].row>0&&null==e[i[a].row-1].text&&i[a-1]==e[i[a].row-1]&&(i[a-1]={text:i[a-1],row:i[a].row-1},e[i[a].row-1]={text:e[i[a].row-1],row:a-1});return{o:e,n:i}}return function(i,t){i=i.replace(/\s+$/,""),t=t.replace(/\s+$/,"");var s=e(""==i?[]:i.split(/\s+/),""==t?[]:t.split(/\s+/)),a="",u=i.match(/\s+/g);null==u?u=[" "]:u.push(" ");var n=t.match(/\s+/g);if(null==n?n=[" "]:n.push(" "),0==s.n.length)for(var r=0;s.o.length>r;r++)a+="<del>"+s.o[r]+u[r]+"</del>";else{if(null==s.n[0].text)for(t=0;s.o.length>t&&null==s.o[t].text;t++)a+="<del>"+s.o[t]+u[t]+"</del>";for(var r=0;s.n.length>r;r++)if(null==s.n[r].text)a+="<ins>"+s.n[r]+n[r]+"</ins>";else{var l="";for(t=s.n[r].row+1;s.o.length>t&&null==s.o[t].text;t++)l+="<del>"+s.o[t]+u[t]+"</del>";a+=" "+s.n[r].text+n[r]+l}}return a}}()})(this)}});