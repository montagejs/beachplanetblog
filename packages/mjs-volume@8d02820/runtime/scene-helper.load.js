montageDefine("8d02820","runtime/scene-helper",{dependencies:["runtime/dependencies/gl-matrix","montage","montage/core/uuid","runtime/glTF-scene","runtime/glTF-node","runtime/scene","runtime/node","runtime/scene-renderer","runtime/glTF-material","runtime/utilities","runtime/projection","runtime/camera"],factory:function(e,t){e("runtime/dependencies/gl-matrix");var i=e("montage").Montage,n=e("montage/core/uuid").Uuid;e("runtime/glTF-scene").glTFScene;var r=e("runtime/glTF-node").glTFNode;e("runtime/scene").Scene;var s=e("runtime/node").Node;e("runtime/scene-renderer").SceneRenderer,e("runtime/glTF-material").glTFMaterial,e("runtime/utilities").Utilities;var a=e("runtime/projection").Projection,o=e("runtime/camera").Camera;e("runtime/utilities").BBox;var l=t.SceneHelper=Object.create(Object.prototype,{getGLTFViewPoints:{value:function(e){var t=[],i=e.glTFElement.rootNode;return i.apply(function(e){return e.cameras&&e.cameras.length&&(t=t.concat(e)),null},!0,null),t}},getViewPoints:{value:function(e){var t=this.getGLTFViewPoints(e),n=[];return t.forEach(function(t){var r=i.create(s);r.scene=e,r.id=t.baseId,n.push(r)},this),n}},createGLTFNodeIncludingCamera:{value:function(e){var t=Object.create(a);t.initWithDescription({type:"perspective",perspective:{yfov:45,aspectRatio:1,znear:.1,zfar:100}});var i=Object.create(o).init();i.projection=t;var s=Object.create(r).init();return i.name=s.name=e,s.id=n.generate(),s.baseId=s.id,s.cameras.push(i),s}},createNodeIncludingCamera:{value:function(e,t){var n=l.createGLTFNodeIncludingCamera(e),r=t.glTFElement;r.ids[n.baseId]=n;var a=i.create(s);return a.scene=t,a.id=n.baseId,a}}})}});